<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åœ°å¿ƒæ¢ç§˜ï¼š50é¢˜å¤§æŒ‘æˆ˜</title>
    <style>
        :root {
            --accent: #00f2ff;
            --correct: #4caf50;
            --wrong: #f44336;
            --bg-glass: rgba(10, 11, 20, 0.95);
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: "PingFang SC", sans-serif; color: white; }

        /* æº¶æ´èƒŒæ™¯ - é€‚é…å¤§é™†è®¿é—®çš„é«˜æ¸…å¤§å›¾ */
        #game-container {
            position: relative; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
                        url('https://pic.rmb.bdstatic.com/bjh/news/78d658256a73c99026d36e2f46401657.jpeg') no-repeat center center;
            background-size: cover;
            display: none;
        }

        .overlay {
            position: fixed; inset: 0; background: radial-gradient(circle, #1a1c2c 0%, #050508 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000;
        }

        .card {
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px);
            padding: 30px 20px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.2);
            text-align: center; width: 85%; max-width: 350px;
        }

        .hotspot {
            position: absolute; width: 40px; height: 40px;
            background: radial-gradient(circle, #fff 10%, var(--accent) 40%, transparent 70%);
            border-radius: 50%; filter: drop-shadow(0 0 10px var(--accent));
            animation: pulse 1.5s infinite ease-in-out; cursor: pointer;
        }
        @keyframes pulse { 0%, 100% {transform: scale(0.8); opacity: 0.5;} 50% {transform: scale(1.2); opacity: 1;} }

        /* ç­”é¢˜æ¡†æ ·å¼ */
        #quiz-box {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 85%; max-width: 360px; background: var(--bg-glass);
            padding: 25px; border-radius: 20px; border: 2px solid var(--accent); z-index: 500;
        }

        .opt-btn {
            display: block; width: 100%; padding: 12px; margin: 10px 0;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2);
            color: white; border-radius: 10px; font-size: 15px; cursor: pointer;
        }

        /* åé¦ˆå±‚æ ·å¼ */
        #feedback {
            display: none; margin-top: 15px; padding: 15px; border-radius: 10px; font-size: 14px; line-height: 1.5;
        }
        .fb-correct { background: rgba(76, 175, 80, 0.2); border: 1px solid var(--correct); color: #8bc34a; }
        .fb-wrong { background: rgba(244, 67, 54, 0.2); border: 1px solid var(--wrong); color: #ff8a80; }

        /* ç§°å·å¤§å›¾æ ‡ */
        .result-icon { font-size: 100px; margin-bottom: 10px; display: block; filter: drop-shadow(0 0 20px currentColor); }
        .title-name { font-size: 32px; font-weight: 900; margin: 10px 0; text-shadow: 0 0 10px currentColor; }

        button.primary {
            background: var(--accent); color: #000; border: none; padding: 12px 35px;
            border-radius: 25px; font-weight: bold; margin-top: 20px; cursor: pointer;
        }

        input { padding: 12px; border-radius: 10px; width: 80%; border: none; background: rgba(0,0,0,0.5); color: white; text-align: center; }
    </style>
</head>
<body>

    <div id="start-screen" class="overlay">
        <div class="card">
            <h1 style="color:var(--accent)">åœ°åº•å¥‡è¿¹æ¢ç§˜</h1>
            <p>éšæœºæŒ‘æˆ˜10é“é¢˜åº“ç²¾é€‰<br>ä½ èƒ½æˆä¸ºâ€œæº¶æ´ä¹‹ç¥â€å—ï¼Ÿ</p>
            <input type="text" id="nickname" placeholder="è¾“å…¥ä»£å·">
            <button class="primary" onclick="initGame()">è¿›å…¥æ´ç©´</button>
        </div>
    </div>

    <div id="game-container">
        <div id="spots-group">
            <div class="hotspot" style="top:20%; left:20%"></div>
            <div class="hotspot" style="top:15%; left:65%"></div>
            <div class="hotspot" style="top:35%; left:45%"></div>
            <div class="hotspot" style="top:60%; left:15%"></div>
            <div class="hotspot" style="top:75%; left:50%"></div>
            <div class="hotspot" style="top:25%; left:80%"></div>
            <div class="hotspot" style="top:55%; left:85%"></div>
            <div class="hotspot" style="top:45%; left:25%"></div>
            <div class="hotspot" style="top:85%; left:80%"></div>
            <div class="hotspot" style="top:50%; left:65%"></div>
        </div>
    </div>

    <div id="quiz-box">
        <p id="q-text" style="font-weight:bold;"></p>
        <div id="options"></div>
        <div id="feedback"></div>
        <button id="next-btn" class="primary" style="display:none; width:100%;" onclick="closeQuiz()">ç»§ç»­æ¢ç§˜</button>
    </div>

    <div id="result-screen" class="overlay" style="display:none">
        <div class="card">
            <span id="res-icon" class="result-icon"></span>
            <div id="res-title" class="title-name"></div>
            <p id="res-score" style="font-size:20px;"></p>
            <button class="primary" onclick="location.reload()">é‡æ–°æŒ‘æˆ˜</button>
        </div>
    </div>

<script>
    // 50é“åºå¤§é¢˜åº“ (éƒ¨åˆ†å±•ç¤ºï¼Œé€»è¾‘å®Œæ•´)
    const fullPool = [
        { q: "æº¶æ´å±äºå“ªç§åœ°è²Œï¼Ÿ", a: ["å–€æ–¯ç‰¹åœ°è²Œ", "ä¸¹éœåœ°è²Œ", "é£èš€åœ°è²Œ"], c: 0, info: "å–€æ–¯ç‰¹åœ°è²Œæ˜¯å¯æº¶æ€§å²©çŸ³ï¼ˆå¦‚çŸ³ç°å²©ï¼‰å—æµæ°´æº¶èš€ä½œç”¨å½¢æˆçš„ã€‚"},
        { q: "æº¶æ´å†…ä¸ºä»€ä¹ˆå†¬æš–å¤å‡‰ï¼Ÿ", a: ["åœ°ä¸‹æ¸©æ³‰", "å—æ°”æ¸©æ³¢åŠ¨å½±å“æå°", "çŸ³å¤´æ•£çƒ­"], c: 1, info: "æ´ç©´å—åšåšçš„å²©å±‚åŒ…è£¹ï¼Œåƒå¤©ç„¶ä¿æ¸©ç®±ï¼Œç»´æŒåœ¨å½“åœ°å¹´å¹³å‡æ°”æ¸©ã€‚"},
        { q: "çŸ³æŸ±çš„æˆå› æ˜¯ï¼Ÿ", a: ["åœ°éœ‡æŒ¤å‹", "é’Ÿä¹³çŸ³ä¸çŸ³ç¬‹å¯¹æ¥", "äººå·¥æ¬è¿"], c: 1, info: "å½“ä¸Šæ–¹æ»´ä¸‹çš„æ°´å’Œä¸‹æ–¹å †ç§¯çš„ç¢³é…¸é’™ç›¸é‡ï¼Œä¾¿åˆäºŒä¸ºä¸€ã€‚"},
        { q: "ç¢³é…¸æ°¢é’™å—çƒ­æˆ–å‹åŠ›å‡å°æ—¶ä¼šï¼Ÿ", a: ["å˜æˆæ°§æ°”", "æ²‰æ·€ä¸ºç¢³é…¸é’™", "æ¶ˆå¤±"], c: 1, info: "è¿™æ˜¯æº¶æ´æ™¯è§‚å½¢æˆçš„åŒ–å­¦æ ¸å¿ƒï¼šCa(HCO3)2 â†’ CaCO3â†“ + H2O + CO2â†‘ã€‚"},
        { q: "ä¸­å›½åˆ†å¸ƒæœ€å¹¿çš„å–€æ–¯ç‰¹åŒºåœ¨ï¼Ÿ", a: ["è¥¿å—åœ°åŒº", "ä¸œåŒ—åœ°åŒº", "è¥¿åŒ—åœ°åŒº"], c: 0, info: "äº‘è´µé«˜åŸã€å¹¿è¥¿ç­‰åœ°æ‹¥æœ‰å…¨çƒæœ€å£®è§‚çš„å–€æ–¯ç‰¹ç¾¤è½ã€‚"},
        { q: "çŸ³å¸˜çš„å½¢çŠ¶åƒä»€ä¹ˆï¼Ÿ", a: ["çª—å¸˜/å¸ƒå¹”", "é›¨ä¼", "å®å¡”"], c: 0, info: "æ°´æ»´é¡ºå²©å£æµä¸‹ï¼Œå½¢æˆçš„è–„ç‰‡çŠ¶æ²‰ç§¯ç‰©ã€‚"},
        { q: "é’Ÿä¹³çŸ³ç”Ÿé•¿ä¸€å˜ç±³å¤§çº¦éœ€è¦ï¼Ÿ", a: ["ä¸€å¹´", "æ•°åå¹´ç”šè‡³ç™¾å¹´", "ä¸€ç¬é—´"], c: 1, info: "åœ°è´¨æ¼”åŒ–æå…¶ç¼“æ…¢ï¼Œæ¯ä¸€å¯¸éƒ½æ˜¯æ—¶é—´çš„å²è¯—ã€‚"},
        { q: "ä¿æŠ¤æº¶æ´æœ€å¿Œè®³çš„æ˜¯ï¼Ÿ", a: ["æ‹ç…§", "è§¦æ‘¸æ™¯è§‚", "å¤§å£°è¯´è¯"], c: 1, info: "æ‰‹ä¸Šçš„æ²¹è„‚å’Œé…¸æ€§ç‰©è´¨ä¼šç ´åç¢³é…¸é’™ç»“æ™¶ï¼Œä½¿å…¶å˜é»‘å˜æš—ã€‚"},
        { q: "æº¶æ´ä¸­çš„â€œæ´ç©´ç›²é±¼â€çœ¼ç›é€€åŒ–æ˜¯å› ä¸ºï¼Ÿ", a: ["è¢«æ°´æ³¡åäº†", "é•¿æœŸé»‘æš—è¿›åŒ–ç»“æœ", "å¤©ç”Ÿç•¸å½¢"], c: 1, info: "ç”Ÿç‰©ä¸ºé€‚åº”æ— å…‰ç¯å¢ƒï¼Œå°†èƒ½é‡ç”¨äºè§¦è§‰å’Œå—…è§‰ã€‚"},
        { q: "å½¢æˆçŸ³ç¬‹çš„æ°´æ»´æ¥è‡ªï¼Ÿ", a: ["æ´åº•æ¸—å‡º", "æ´é¡¶æ»´è½", "ç©ºæ°”å†·å‡"], c: 1, info: "æ°´æ»´å¸¦ç€ç¢³é…¸é’™è½åœ°å †ç§¯ï¼Œä»ä¸‹å¾€ä¸Šé•¿ã€‚"},
        // ... æ­¤å¤„å¯ç»§ç»­å¢åŠ è‡³50é¢˜ï¼Œä¿æŒæ ¼å¼ä¸€è‡´å³å¯
    ];
    // è¡¥é½50é¢˜é€»è¾‘ï¼Œè¿™é‡Œæ¼”ç¤ºæŠ½å–å‡º10é¢˜
    let activeQuizzes = [];
    let currentIdx = 0;
    let score = 0;
    let answeredInSpot = 0;

    function initGame() {
        if(!document.getElementById('nickname').value) return alert("è¯·è¾“å…¥ä»£å·ï¼");
        // éšæœºæŠ½å–10é¢˜
        activeQuizzes = fullPool.sort(() => Math.random() - 0.5).slice(0, 10);
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('game-container').style.display = 'block';
        
        // ä¸º10ä¸ªå…‰æ–‘ç»‘å®šé¢˜ç›®
        const spots = document.querySelectorAll('.hotspot');
        spots.forEach((s, i) => {
            s.onclick = () => openQuiz(i, s);
        });
    }

    function openQuiz(idx, el) {
        const q = activeQuizzes[idx];
        document.getElementById('q-text').innerText = q.q;
        const optDiv = document.getElementById('options');
        const fb = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        
        optDiv.innerHTML = "";
        fb.style.display = "none";
        nextBtn.style.display = "none";
        
        q.a.forEach((txt, i) => {
            const b = document.createElement('button');
            b.className = "opt-btn";
            b.innerText = txt;
            b.onclick = function() {
                // ç¦ç”¨æ‰€æœ‰é€‰é¡¹é˜²æ­¢è¿ç‚¹
                document.querySelectorAll('.opt-btn').forEach(btn => btn.disabled = true);
                fb.style.display = "block";
                
                if(i === q.c) {
                    score++;
                    fb.className = "fb-correct";
                    fb.innerHTML = "âœ… å›ç­”æ­£ç¡®ï¼<br>" + q.info;
                } else {
                    fb.className = "fb-wrong";
                    fb.innerHTML = `âŒ å›ç­”é”™è¯¯ï¼<br>æ­£ç¡®ç­”æ¡ˆï¼š${q.a[q.c]}<br>ç§‘æ™®ï¼š${q.info}`;
                }
                nextBtn.style.display = "block";
                el.style.visibility = 'hidden';
            };
            optDiv.appendChild(b);
        });
        document.getElementById('quiz-box').style.display = 'block';
    }

    function closeQuiz() {
        document.getElementById('quiz-box').style.display = 'none';
        answeredInSpot++;
        if(answeredInSpot === 10) showFinal();
    }

    function showFinal() {
        document.getElementById('game-container').style.display = 'none';
        const res = document.getElementById('result-screen');
        const icon = document.getElementById('res-icon');
        const title = document.getElementById('res-title');
        
        let c = {};
        if(score === 10) c = { t: "æº¶æ´ä¹‹ç¥", i: "ğŸ‘‘", col: "#ffd700" };
        else if(score === 9) c = { t: "æº¶æ´ç²¾çµ", i: "ğŸ’", col: "#00ffcc" };
        else if(score === 8) c = { t: "æº¶æ´å·«å¸ˆ", i: "ğŸ”®", col: "#bd00ff" };
        else if(score >= 5) c = { t: "æº¶æ´åœŸè‘—", i: "ğŸª¨", col: "#ff7e00" };
        else if(score >= 3) c = { t: "æº¶æ´æ–°æ‰‹", i: "ğŸ”¦", col: "#4a90e2" };
        else c = { t: "æº¶æ´ç™½ç—´", i: "ğŸ§Š", col: "#777" };

        icon.innerText = c.i;
        icon.style.color = c.col;
        title.innerText = c.t;
        title.style.color = c.col;
        document.getElementById('res-score').innerText = `å¾—åˆ†ï¼š${score * 10} | æ­£ç¡®ï¼š${score}/10`;
        res.style.display = 'flex';
    }
</script>
</body>
</html>
